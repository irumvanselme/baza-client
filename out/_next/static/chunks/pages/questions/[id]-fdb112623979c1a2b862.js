_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{JymP:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),c=n("nKUr"),i=n("q1tI"),o=n.n(i),u=n("YFqc"),l=n.n(u),d=n("AsAx");function j(){var e=Object(i.useState)([]),t=e[0],n=e[1];return Object(i.useEffect)((function(){(function(){var e=Object(s.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.trending();case 2:t=e.sent,r=t.data,n(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then()}),[]),Object(c.jsx)(o.a.Fragment,{children:Object(c.jsxs)("div",{className:"text-sm card right_bar position-sticky",children:[Object(c.jsx)("h5",{className:"border-bottom pb-2 font-weight-bold card-header",children:"Trending questions"}),Object(c.jsx)("div",{className:"card-body",children:t.map((function(e,t){return Object(c.jsx)("div",{className:"py-1",children:Object(c.jsx)(l.a,{href:"/questions/".concat(e._id),passHref:!0,children:Object(c.jsxs)("a",{children:[e.title," ?"]})})},t)}))})]})})}},KQm4:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},"W+MB":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("nKUr"),a=function(e){var t=e.names;return Object(r.jsx)("div",{className:"card p-2 px-4 shadow _bg-light-gray",children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("img",{src:"https://www.w3schools.com/w3images/avatar5.png",className:"_avatar mr-3",alt:"Avatar"}),Object(r.jsx)("span",{className:"font-weight-bolder",children:t})]})})}},f8aA:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),c=n("rePB"),i=n("nKUr"),o=n("q1tI"),u=n("HEoy"),l=n.n(u),d=n("XcDm"),j=n("nOHt"),b=n("AsAx"),m=n("EVdn"),f=n.n(m),p=n("MtnM");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.question,n=e.answered,r=Object(j.useRouter)(),c=Object(o.useRef)(null),u=Object(o.useState)({answer:[]}),m=u[0],x=u[1],h=Object(o.useState)({open:!1,success:!1,message:"You have successfully answered the question"}),v=h[0],w=h[1],g=function(){var e=Object(s.a)(a.a.mark((function e(s){var i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,Object(d.a)();case 3:if(e.sent){e.next=9;break}return f()("#answerQuestion"+t).modal("hide"),e.next=8,r.push("/auth/login");case 8:return e.abrupt("return",e.sent);case 9:if(i={body:(a=c,a.current.value)},c.current.value="",!(o=new l.a(i,{body:"required|string|min:4"})).fails(void 0)){e.next=14;break}return e.abrupt("return",x((function(e){return O(O({},e),o.errors.all())})));case 14:if(!o.passes(void 0)){e.next=20;break}return x((function(e){return O(O({},e),o.errors.all())})),e.next=18,b.a.answer(t,i);case 18:201===(u=e.sent).status&&(n(u.data),f()("#answerQuestion"+t).modal("hide"),w({open:!0,success:!0,message:"You have successfully answered a question"}));case 20:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"modal fade",id:"answerQuestion"+t,tabIndex:"-1",role:"dialog",children:Object(i.jsx)("div",{className:"modal-dialog",role:"document",children:Object(i.jsx)("div",{className:"modal-content py-4 px-lg-4",children:Object(i.jsxs)("form",{action:"",onSubmit:g,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{className:"font-weight-bolder",children:"Write Your answer"}),Object(i.jsxs)("div",{className:"form-group mt-3",children:[Object(i.jsx)("textarea",{name:"answer",id:"description1",rows:5,ref:c,className:"form-control ".concat(m.answer.length>0&&"is-invalid","  _bg-light-gray")}),Object(i.jsx)("div",{className:"invalid-feedback",children:m.answer[0]})]})]}),Object(i.jsxs)("div",{className:"text-right",children:[Object(i.jsx)("button",{type:"submit",className:"btn btn-outline-info mx-4 px-4",children:"Submit"}),Object(i.jsx)("button",{type:"button",className:"btn btn-outline-danger px-4","data-dismiss":"modal",children:"Close"})]})]})})})}),Object(i.jsx)(p.a,{open:v.open,success:v.success,counts:3e3,message:v.message,handleClose:function(){w(O(O({},v),{},{open:!1}))}})]})}},ggRg:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),c=n("nKUr"),i=n("q1tI"),o=n("uPMs"),u=n("JymP"),l=n("EVdn"),d=n.n(l),j=n("KAy6"),b=n.n(j),m=n("W+MB"),f=n("f8aA"),p=n("NsBw"),x=n("XcDm");function O(e){var t=e.question,n=e.answered,r=Object(i.useState)(!1),o=r[0],u=r[1],l=Object(i.useState)(!1),j=l[0],O=l[1],h=Object(i.useState)(0),v=h[0],w=h[1],g=Object(i.useState)(0),y=g[0],N=g[1];Object(i.useEffect)((function(){(function(){var e=Object(s.a)(a.a.mark((function e(){var n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(t.likes),N(t.dislikes),e.next=5,Object(x.a)();case 5:if(!e.sent||!t._id){e.next=16;break}return e.next=9,p.c.check_for_me(t._id,1);case 9:return n=e.sent,r=n.data,u(r),e.next=14,p.c.check_for_me(t._id,0);case 14:s=e.sent,O(s.data);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0.response.data);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}})()().then()}),[t]);var k=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:if(!e.sent){e.next=9;break}return o?(u(!1),w(v-1)):j?(O(!1),N(y-1),u(!0),w(v+1)):(u(!0),w(v+1)),e.next=7,p.c.like(t._id);case 7:e.next=11;break;case 9:return e.next=11,router.push("/auth/login");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:if(!e.sent){e.next=9;break}return j?(O(!1),N(y-1)):o?(u(!1),w(v-1),O(!0),N(y+1)):(O(!0),N(y+1)),e.next=7,p.c.dislike(t._id);case 7:e.next=11;break;case 9:return e.next=11,router.push("/auth/login");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"card py-4 px-4 mb-4",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[Object(c.jsxs)("div",{className:"question",children:[Object(c.jsx)("img",{src:"https://www.w3schools.com/w3images/avatar5.png",className:"_avatar mr-3",alt:"Avatar"}),Object(c.jsx)("a",{onMouseEnter:function(){d()("#popover1").popover({trigger:"hover",template:b.a.renderToStaticMarkup(Object(c.jsx)(m.a,{names:t.user.full_name}))})},className:"pr-2",id:"popover1","data-toggle":"popover",title:"IRUMVA HABUMUGISHA Anselme","data-placement":"right","data-content":"Student at Rwanda Coding Academy",children:t.user.username})," asked"]}),Object(c.jsx)("div",{className:"_date",children:t.created_at})]}),Object(c.jsx)("h4",{className:"pt-4",children:t.title})]}),Object(c.jsx)("div",{className:"body py-3 w-75",children:t.body}),Object(c.jsxs)("div",{className:"d-flex justify-content-between pt-3",children:[Object(c.jsxs)("div",{className:"d-flex align-items-center",children:[Object(c.jsxs)("div",{onClick:k,className:"button ".concat(o?"text-primary":"text-secondary"," d-flex align-items-center"),title:"Up vote",children:[Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:"fa ".concat(o?"fa-thumbs-up":"fa-thumbs-o-up"," pr-2")})}),Object(c.jsx)("div",{children:v})]}),Object(c.jsxs)("div",{onClick:_,className:"button ".concat(j?"text-danger":"text-secondary"," d-flex align-items-center ml-5"),title:"Down vote",children:[Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:"fa ".concat(j?"fa-thumbs-down":"fa-thumbs-o-down"," pr-2")})}),Object(c.jsx)("div",{children:y})]}),Object(c.jsxs)("div",{className:"button d-flex align-items-center ml-2 ml-md-5",children:[Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:"fa fa-bookmark pr-md-2"})}),Object(c.jsxs)("div",{children:[t.answersDoc," answers"]})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-success px-4 ","data-toggle":"modal","data-target":"#answerQuestion"+t._id,children:"Answer"})})]}),Object(c.jsx)(f.a,{question:t._id,answered:n})]})})}var h=n("KQm4"),v=n("rePB"),w=n("HEoy"),g=n.n(w);function y(e){var t=e.comment;return Object(c.jsxs)("div",{className:"card _comment p-2 px-3 mb-3",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(c.jsxs)("div",{className:"question",children:[Object(c.jsx)("img",{src:"https://www.w3schools.com/w3images/avatar5.png",className:"_avatar mr-3",alt:"Avatar"}),Object(c.jsx)("a",{onMouseEnter:function(){d()("#popover"+t._id).popover({trigger:"hover",template:b.a.renderToStaticMarkup(Object(c.jsx)(m.a,{names:t.user.full_name}))})},className:"pr-2",id:"popover"+t._id,"data-toggle":"popover",title:"IRUMVA HABUMUGISHA Anselme","data-placement":"right","data-content":"Student at Rwanda Coding Academy",children:t.user.username})," commented"]}),Object(c.jsx)("div",{className:"_date",children:t.created_at})]}),Object(c.jsx)("div",{className:"body pl-4 py-3",children:t.body})]})}var N=n("OtE+"),k=n("nOHt");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.top,n=e.answer,r=Object(i.useState)(!1),o=r[0],u=r[1],l=Object(i.useState)(!1),j=l[0],f=l[1],O=Object(i.useState)(0),v=O[0],w=O[1],_=Object(i.useState)(0),S=_[0],E=_[1],P=Object(i.useState)(!1),q=P[0],M=P[1],U=Object(i.useState)([]),D=U[0],H=U[1],I=Object(i.useRef)(null),R=Object(i.useState)({comment:[]}),C=R[0],B=R[1];Object(i.useEffect)((function(){w(n.likes),E(n.dislikes)}),[n]);var K=function(){var e=Object(s.a)(a.a.mark((function e(t){var r,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(x.a)();case 3:if(!e.sent){e.next=19;break}if(r={body:(a=I,a.current.value)},!(s=new g.a(r,{body:"required|string|min:3"})).fails(null)){e.next=9;break}return e.abrupt("return",B((function(e){return A(A({},e),s.errors.all())})));case 9:if(!s.passes(void 0)){e.next=17;break}return B((function(e){return A(A({},e),s.errors.all())})),e.next=13,N.a.comment(n._id,r);case 13:c=e.sent,i=c.data,I.current.value="",H((function(e){return[i].concat(Object(h.a)(e))}));case 17:e.next=21;break;case 19:return e.next=21,Q.push("/auth/login");case 21:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!q),e.next=3,N.a.comments(n._id);case 3:t=e.sent,r=t.data,H(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=Object(k.useRouter)(),V=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:if(!e.sent){e.next=9;break}return o?(u(!1),w(v-1)):j?(f(!1),E(S-1),u(!0),w(v+1)):(u(!0),w(v+1)),e.next=7,p.a.like(n._id);case 7:e.next=11;break;case 9:return e.next=11,Q.push("/auth/login");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:if(!e.sent){e.next=9;break}return j?(f(!1),E(S-1)):o?(u(!1),w(v-1),f(!0),E(S+1)):(f(!0),E(S+1)),e.next=7,p.a.dislike(n._id);case 7:e.next=11;break;case 9:return e.next=11,Q.push("/auth/login");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"card mb-4",children:[t&&Object(c.jsx)("div",{className:"card-header _bg-primary py-2 text-white font-weight-bolder",children:"Top answer"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(c.jsxs)("div",{className:"question",children:[Object(c.jsx)("img",{src:"https://www.w3schools.com/w3images/avatar5.png",className:"_avatar mr-3",alt:"Avatar"}),Object(c.jsx)("a",{className:"pr-2",onMouseEnter:function(){d()("#popover2"+n._id).popover({trigger:"hover",template:b.a.renderToStaticMarkup(Object(c.jsx)(m.a,{names:n.user.full_name}))})},id:"popover2"+n._id,"data-toggle":"popover",title:"IRUMVA HABUMUGISHA Anselme","data-placement":"right","data-content":"Student at Rwanda Coding Academy",children:n.user.username})," answered"]}),Object(c.jsxs)("div",{className:"_date",children:[" ",n.created_at," "]})]}),Object(c.jsxs)("div",{className:"body py-3",children:[" ",n.body," "]}),Object(c.jsxs)("div",{className:"d-flex justify-content-between pt-3",children:[Object(c.jsxs)("div",{className:"d-flex align-items-center",children:[Object(c.jsxs)("div",{onClick:V,className:"button ".concat(o?"text-primary":"text-secondary"," d-flex align-items-center"),title:"Up vote",children:[Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:"fa ".concat(o?"fa-thumbs-up":"fa-thumbs-o-up"," pr-2")})}),Object(c.jsx)("div",{children:v})]}),Object(c.jsxs)("div",{onClick:J,className:"button ".concat(j?"text-danger":"text-secondary"," d-flex align-items-center ml-5"),title:"Up vote",children:[Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:"fa ".concat(j?"fa-thumbs-down":"fa-thumbs-o-down"," pr-2")})}),Object(c.jsx)("div",{children:S})]})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("a",{className:"text-info",onClick:T,children:[q?"Hide":"View"," all comments (",n.commentsDoc,") "]})})]}),q&&Object(c.jsxs)("div",{className:"comments border-top pt-3 mt-2",children:[Object(c.jsxs)("form",{className:"form-group row mx-0",onSubmit:K,children:[Object(c.jsxs)("div",{className:"col-10 px-0",children:[Object(c.jsx)("input",{type:"text",className:"form-control ".concat(C.comment.length>0&&"is-invalid"),ref:I,placeholder:"Add a comment"}),Object(c.jsx)("div",{className:"invalid-feedback",children:C.comment[0]})]}),Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)("button",{className:"btn btn-info",children:Object(c.jsx)("i",{className:"fa fa-send mx-2"})})})]}),Object(c.jsx)("div",{className:"coments-body",children:Object(c.jsx)("div",{className:"comments",children:D.map((function(e,t){return Object(c.jsx)(y,{comment:e},t)}))})})]})]})]})}var E=n("AsAx"),P=n("uNx/");function q(e){var t=e.question,n=Object(i.useState)([]),r=n[0],l=n[1];return t?(Object(i.useEffect)((function(){Object(s.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.a)();case 3:if(!e.sent){e.next=11;break}return e.next=7,E.a.answers_with_auth(t._id);case 7:n=e.sent,l(n.data),e.next=15;break;case 11:return e.next=13,E.a.answers(t._id);case 13:r=e.sent,l(r.data);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()}),[t]),Object(c.jsx)(o.a,{meta:{title:"".concat(t.title," - baza.com")},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-12 col-lg-8 offset-md-1 px-2",children:[Object(c.jsx)(O,{question:t}),r.length>0?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"col-lg-10 mx-0 px-0",children:Object(c.jsx)(S,{answer:r[0],top:!0})}),r.map((function(e,t){if(0!==t)return Object(c.jsx)("div",{className:"col-lg-10 mx-0 col-md-12 px-0",children:Object(c.jsx)(S,{answer:e})},t)}))]}):Object(c.jsx)("div",{className:"text-center",children:" No answers yet, be the first to answer"})]}),Object(c.jsx)("div",{className:"d-none d-lg-block col-3",children:Object(c.jsx)(u.a,{})})]})})):Object(c.jsx)(P.default,{})}q.getInitialProps=function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.next=3,p.c.get(n.id);case 3:return r=e.sent,s=r.data,e.abrupt("return",{question:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"uNx/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("nKUr");function a(){return Object(r.jsx)("div",{children:"Not found"})}},xZwj:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return n("ggRg")}])}},[["xZwj",0,1,4,2,3,5]]]);