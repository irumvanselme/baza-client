{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Developments\\\\anselme-dev\\\\baza\\\\client\\\\components\\\\Navbar.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\nimport styles from \"../styles/modules/app.module.scss\";\nimport { Logo } from \"./Logo\";\nimport { useRouter } from \"next/router\";\nimport { authService } from \"../services\";\nexport const Navbar = ({\n  auth\n}) => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"...\");\n  const searchContainer = useRef(null);\n  const router = useRouter();\n\n  const search = async event => {\n    event.preventDefault();\n    await router.push({\n      pathname: \"/search\",\n      query: {\n        query: searchContainer.current.value\n      }\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      let {\n        data\n      } = await authService.profile();\n      setUsername(data.username);\n    };\n\n    if (auth) {\n      fetchData().then();\n    }\n  }, [auth]);\n\n  const logOut = async () => {\n    sessionStorage.removeItem(\"token\");\n    await router.push(\"/auth/login\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.navbar,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center h-100 px-2 px-lg-5 mx-lg-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-none d-md-block\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: search,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            className: \"form-control font-weight-normal\",\n            placeholder: \"Search ... \",\n            ref: searchContainer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: !auth ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            href: \"/auth/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/auth/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#askQuestion\",\n            children: \"Ask a question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://www.w3schools.com/w3images/avatar5.png\",\n            className: \"_navbar-avatar mr-3\",\n            alt: \"Avatar\",\n            id: \"dropdownMenuButton\",\n            \"data-toggle\": \"dropdown\",\n            \"aria-haspopup\": \"true\",\n            \"aria-expanded\": \"false\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu dropdown-menu-right shadow\",\n            \"aria-labelledby\": \"dropdownMenuButton\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dropdown-item-text font-weight-bolder\",\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/profile\",\n              passHref: true,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                children: \"Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/profile/settings\",\n              passHref: true,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                children: \"Profile Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"dropdown-item\",\n              onClick: logOut,\n              children: \"Log out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#askQuestion\",\n            children: \"Ask a question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"sources":["D:/Developments/anselme-dev/baza/client/components/Navbar.jsx"],"names":["React","useState","useEffect","useRef","Link","styles","Logo","useRouter","authService","Navbar","auth","username","setUsername","searchContainer","router","search","event","preventDefault","push","pathname","query","current","value","fetchData","data","profile","then","logOut","sessionStorage","removeItem","navbar"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\n\nimport styles from \"../styles/modules/app.module.scss\";\n\nimport { Logo } from \"./Logo\";\nimport { useRouter } from \"next/router\";\nimport { authService } from \"../services\";\n\nexport const Navbar = ({ auth }) => {\n    const [username, setUsername] = useState(\"...\");\n    const searchContainer = useRef(null)\n    const router = useRouter();\n    const search = async (event) => {\n        event.preventDefault();\n        await router.push({ pathname: \"/search\", query: { query:  searchContainer.current.value}});\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            let { data } = await authService.profile();\n            setUsername(data.username);\n        };\n\n        if (auth) {\n            fetchData().then();\n        }\n    }, [auth]);\n\n    const logOut = async () => {\n        sessionStorage.removeItem(\"token\");\n        await router.push(\"/auth/login\");\n    };\n\n    return (\n        <div className={styles.navbar}>\n            <div className=\"d-flex justify-content-between align-items-center h-100 px-2 px-lg-5 mx-lg-5\">\n                <div>\n                    <Logo />\n                </div>\n                <div className=\"d-none d-md-block\">\n                    <form onSubmit={search}>\n                        <input\n                            type=\"search\"\n                            className=\"form-control font-weight-normal\"\n                            placeholder=\"Search ... \"\n                            ref={searchContainer}\n                        />\n                    </form>\n                </div>\n                <div>\n                    {!auth ? (\n                        <React.Fragment>\n                            <Link href={\"/auth/login\"}>Login</Link>\n                            <Link href={\"/auth/register\"}>Register</Link>\n                            <button\n                                className=\"btn btn-success\"\n                                data-toggle=\"modal\"\n                                data-target=\"#askQuestion\"\n                            >\n                                Ask a question\n                            </button>\n                        </React.Fragment>\n                    ) : (\n                        <React.Fragment>\n                            <img\n                                src=\"https://www.w3schools.com/w3images/avatar5.png\"\n                                className=\"_navbar-avatar mr-3\"\n                                alt=\"Avatar\"\n                                id=\"dropdownMenuButton\"\n                                data-toggle=\"dropdown\"\n                                aria-haspopup=\"true\"\n                                aria-expanded=\"false\"\n                            />\n                            <div\n                                className=\"dropdown-menu dropdown-menu-right shadow\"\n                                aria-labelledby=\"dropdownMenuButton\"\n                            >\n                                <span className=\"dropdown-item-text font-weight-bolder\">\n                                    {username}\n                                </span>\n                                <Link href={\"/profile\"} passHref>\n                                    <a className=\"dropdown-item\">\n                                        Account\n                                    </a>\n                                </Link>\n                                <Link href={\"/profile/settings\"} passHref>\n                                    <a className=\"dropdown-item\">\n                                        Profile Settings\n                                    </a>\n                                </Link>\n                                <a className=\"dropdown-item\" onClick={logOut}>\n                                    Log out\n                                </a>\n                            </div>\n                            <button\n                                className=\"btn btn-success\"\n                                data-toggle=\"modal\"\n                                data-target=\"#askQuestion\"\n                            >\n                                Ask a question\n                            </button>\n                        </React.Fragment>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}